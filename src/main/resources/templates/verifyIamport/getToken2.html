<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <!-- PortOne SDK -->
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <script>
        var IMP = window.IMP;
        IMP.init("imp57757743");

        function requestPay() {
          IMP.request_pay(
            {
              pg: "ksnet.2999199999",
              pay_method: "card",
    merchant_uid: "ORD20180131-0000011",   // 주문번호
      name: "노르웨이 회전 의자",
      amount: 64900,                         // 숫자 타입
      buyer_email: "gildong@gmail.com",
      buyer_name: "홍길동",
      buyer_tel: "010-4242-4242",
      buyer_addr: "서울특별시 강남구 신사동",
      buyer_postcode: "01181"
    }, function (rsp) { // callback
      //rsp.imp_uid 값으로 결제 단건조회 API를 호출하여 결제결과를 판단합니다.
    });
        }
    </script>
    <meta charset="UTF-8" />
    <title>Sample Payment</title>
</head>
<body>

<!-- 에러 메시지 출력 -->
<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

<!-- 결과 메시지 출력 -->
<div th:if="${result}" class="alert alert-success">
    <pre th:text="${result}"></pre>
</div>

<!-- 토큰 발급 폼 -->
<form th:action="@{/verifyIamport/getToken2}" method="post">
    <button type="submit" class="btn btn-primary">토큰 발급 요청</button>
</form>

<button onclick="IMP.request_pay()">결제하기</button>
<!-- 결제하기 버튼 생성 -->
</body>
</html>